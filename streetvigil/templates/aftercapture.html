<!-- capture_image.html -->

<!DOCTYPE html>
<html>

<head>
    <title>Capture Image</title>
</head>

<body>
    
    <form method="post" >
        {% csrf_token %}
        <img src="{{ image_url }}" alt="Captured Image">
        
        <div class="">
                <select name="category" >
                    <option value="Crime">Crime</option>
                    <option value="Accident">Accident</option>
                    <option value="Suspicious Activity">Suspicious Activity</option>
                    <option value="Lost and Found">Lost and Found</option>
                    <option value="Other">Other</option>
                </select>
         
            
           

         
                <label for="description">Description:</label>
                <input type="text" id="description" name="description" placeholder="Enter description">

                <div class="mb-4">
                    <label for="id_latitude" class="block text-sm font-medium text-gray-700">Latitude</label>
                    <input type="text" id="id_latitude" name="latitude" class="form-input block w-full" readonly>
                  </div>
            
                  <!-- Longitude field -->
                  <div class="mb-4">
                    <label for="id_longitude" class="block text-sm font-medium text-gray-700">Longitude</label>
                    <input type="text" id="id_longitude" name="longitude" class="form-input block w-full" readonly>
                  </div>
           

           
              
          

           

            <!-- <div>
                <label for="location">Latitude:</label>
                <input  type="number"  id="location" name="latitude" placeholder="Enter location">
            </div> -->

            <button  type="button"  onclick="fetchLocation()" > Fetch Live Location</button>

            
            <button  class="submitbtn" type="submit">Submit</button>
        </div>
    </form>


</body>

<script>
    // Function to fetch user's geolocation
    function fetchLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          function (position) {
            // Populate latitude and longitude fields
            document.getElementById("id_latitude").value = position.coords.latitude;
            document.getElementById("id_longitude").value = position.coords.longitude;
          },
          function (error) {
            console.error("Error getting geolocation:", error.message);
          }
        );
      } else {
        console.error("Geolocation is not supported by this browser.");
      }
    }
  </script>

</html>



